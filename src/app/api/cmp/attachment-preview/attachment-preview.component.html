<!-- <span style="position: absolute;top:0px;left:px;z-index:1600;background-color:yellow;opacity:0.5;">{{url}}</span> -->
<div id="preview" class="d-flex"
  style="position:relative; width:100%; flex-direction: column;flex:1 1 0;align-items:center; background:white;margin:2px 2px;overflow: hidden;">

  <span *ngIf="!fileExists && (isPhoto || isVideo) && !isLoading" class="fa-stack fa-2x"
    style="margin:auto auto;padding:0px;" [style.font-size.px]="iconFontSize" matTooltip="File not found ...">
    <i *ngIf="isVideo" class="fa fa-film fa-stack-2x text-info" style="opacity: 0.7;"></i>
    <i *ngIf="isPhoto" class="far fa-image fa-stack-2x text-info" style="opacity: 0.7;"></i>
    <i class="fa fa-ban fa-stack-2x text-danger" style="opacity: 0.6;"></i>
  </span>

  <span *ngIf="(!isPhoto && !isVideo) && !isLoading" class="fa-stack fa-2x" matTooltip="Preview not supported ..."
    style="margin:auto auto;padding:0px;" [style.font-size.px]="iconFontSize">
    <i class="fa fa-eye-slash fa-stack-2x text-info" style="opacity: 0.6;"></i>
  </span>

  <i *ngIf="isLoading" class="fa fa-sync fa-spin fa-6x fa-fw text-info" style="margin:auto auto;"></i>

  <ng-container *ngIf="url">

    <img *ngIf="fileExists && isPhoto && !isLoading" [src]="url" alt=""
      style="width:100%;height:100%;object-fit:contain;" (load)="ImageLoaded($event)">
    <video [title]="videoTitle" #video *ngIf="fileExists && isVideo && !isLoading" controls currentTime="10"
      style="background-color: black;width:100%;height:100%;margin:auto auto;object-fit:contain;">
      <!-- .mp4 file for native playback in IE9+, Firefox, Chrome, Safari and most mobile browsers -->
      <source [src]="url" type="video/mp4" />
      <!-- flash fallback for IE6, IE7, IE8 and Opera -->

    </video>
  </ng-container>

  <div *ngIf="data" id="prev" [class]="(isFirst ? ' disable' : '')" (click)="ShowPrev()">
    <i class="fa fa-chevron-left"></i>
  </div>
  <div *ngIf="data" id="next" [class]="(isLast ? ' disable' : '')" (click)="ShowNext()">
    <i class="fa fa-chevron-right"></i>
  </div>

  <i id="open_preview" *ngIf="!data && openPreview.observers.length==1" matTooltip="Open in preview popup window..."
    class="fa fa-external-link-alt" (click)="OpenPreview()"></i>

</div>